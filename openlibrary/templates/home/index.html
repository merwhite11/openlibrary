$def with (stats=None, blog_posts=None, test=False)

$var title: $_("Welcome to Open Library")

<div class="page-banner page-banner-home">
  Learn more about our Open Libraries Project: bringing millions of ebooks to billions of people: <a href="http://openlibraries.online">OpenLibraries.online</a>
</div>

<div id="contentBody">
    $:render_template("home/categories")
    <div class="clearfix"></div>

    $:render_template("home/custom_ia_carousel", title="Books We Love", key="staff_picks", subject="openlibrary_staff_picks", sorts=["loans__status__last_loan_date+desc"], limit=60, test=test)

    $:render_template("home/custom_ia_carousel", title="Technical Books", key="technical_books", query="(publisher:(sams) OR publisher:(O'Reilly))", sorts=["date+desc"], limit=36, test=test)

    $:render_template("home/custom_ia_carousel", title="Recently Returned", key="recently_returned", sorts=["loans__status__last_loan_date+desc"], limit=60, test=test)

    $:render_template("home/carousel", title="Classic Literature", url="/read", books=readonline_carousel(), key="public_domain", test=test)

    $:render_template("home/custom_ia_carousel", title="How To Guides", key="how_to", query="(title:(idiot's guide) OR title:(for dummies))", sorts=["downloads+desc"], limit=36, test=test)

    $:render_template("home/custom_ia_carousel", title="Chicken Soup", key="chicken_soup", query="chicken soup", limit=36, test=test)

    $:render_template("home/custom_ia_carousel", title="Romance", key="romance", query="subject:(romance)", sorts=["loans__status__last_loan_date+desc"], limit=36, test=test)

    $:render_template("home/subject_carousel", "textbooks", title="Educational", options={}, delay=1500)
    <div class="clearfix"></div>

    $:render_template("home/subject_carousel", "success", title="Business Success", options={}, delay=2000)
    <div class="clearfix"></div>

    $:render_template("home/subject_carousel", "science_fiction", title="Science Fiction", options={}, delay=2500)
    <div class="clearfix"></div>

    $:render_template("home/subject_carousel", "biographies", title="Biographies", options={"published_in": "2000-2018", "sort": "edition_count"}, delay=3000)
    <div class="clearfix"></div>

    $:render_template("home/subject_carousel", "mystery_and_detective_stories", title="Mysteries", options={"published_in": "2000-2018", "sort": "edition_count"}, delay=3500)
    <div class="clearfix"></div>

    $:render_template("home/stats", stats)
    <div class="clearfix"></div>

    $:render_template("home/about", blog_posts)
</div>

